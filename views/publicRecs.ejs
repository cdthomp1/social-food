<div class="recipeContainer">
    <div class="card recCard">
        <img src="https://images-gmi-pmc.edge-generalmills.com/edfaaf9f-9bde-426a-8d67-3284e9e496ae.jpg"
            class="card-img-top" alt="...">
        <div class="card-body">
            <h5 class="card-title">Cam's Grandma's Famous Pancakes</h5>
            <p>Grandma Thompson</p>
            <p><span class="badge badge-info">Breakfast</span></p>
            <a href="#" class="btn btn-primary">Cook It!</a>
            <a href="#" class="btn btn-success">Save It! </a>
        </div>
    </div>
</div>


<div class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <strong class="mr-auto">Bootstrap</strong>
      <small>11 mins ago</small>
      <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="toast-body">
      Hello, world! This is a toast message.
    </div>
  </div>

<script>
    function loadDoc() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var res = JSON.parse(this.responseText);
                displayRecs(res.data);
            }
        };
        xhttp.open("GET", "/api/v1/recipes", true);
        xhttp.send();
    }

    function displayRecs(recs) {
        recs.forEach(rec => {
            buildRecCard(rec);
        });
    }

    function buildRecCard(rec) {
        // console.log(JSON.stringify(rec));
        var container = document.getElementsByClassName("recipeContainer")[0];
        var card = document.createElement("div");
        var cardBody = document.createElement("div");
        var recname = document.createElement("h5");
        var recAuthor = document.createElement("p");

        card.setAttribute("class", "card recCard");
        cardBody.setAttribute("class", "card-body");
        recname.setAttribute("class", "card-title");

        recname.innerText = rec.recName;
        recAuthor.innerText = rec.author;

        cardBody.appendChild(recname);
        cardBody.appendChild(recAuthor);

        card.appendChild(cardBody);

        container.appendChild(card);
    }

    loadDoc();

    

</script>